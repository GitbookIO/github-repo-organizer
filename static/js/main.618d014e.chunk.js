(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{245:function(e,t,n){e.exports=n(547)},456:function(e,t){},547:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(19),c=n.n(i),o=n(55),s=n(56),u=n(59),l=n(57),p=n(58),d=n(35),f=n(10),g=n(240),m=n.n(g),h=n(69),O=n.n(h),b=n(41),E=n.n(b),v=n(68),w=n.n(v),j=n(29),S=n.n(j),T=n(241),x=n.n(T),_=n(239),k=n.n(_),y=n(67),I=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{variant:"display1"},"Log in!"),a.a.createElement(E.a,{paragraph:!0},"Please log in with GitHub to start organizing your repositories."))}}]),t}(r.Component),A=n(100),R=n.n(A),L=n(70),C=n(12),N=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.props.classes;return a.a.createElement(R.a,null,a.a.createElement(L.a,{columns:[{name:"name",title:"Name"},{name:"description",title:"Description"},{name:"createdAt",title:"Created At"},{name:"repositoryTopics",title:"Topics",getCellValue:function(e){return e.topics.join(", ")}},{name:"stars",title:"Stars"},{name:"language",title:"Language"},{name:"isPrivate",title:"Private",getCellValue:function(e){return e.isPrivate?"True":"False"}},{name:"isArchived",title:"Archived",getCellValue:function(e){return e.isArchived?"True":"False"}}],rows:this.props.repositories},a.a.createElement(C.c,{defaultFilters:[]}),a.a.createElement(C.k,{defaultSorting:[]}),a.a.createElement(C.g,null),a.a.createElement(C.h,null),a.a.createElement(L.d,null),a.a.createElement(L.b,null),a.a.createElement(L.c,null)))}}]),t}(r.Component),P=Object(f.withStyles)(function(e){return{}})(N),G=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).ifLoggedOut=n.ifLoggedOut.bind(Object(d.a)(Object(d.a)(n))),n.ifLoggedIn=n.ifLoggedIn.bind(Object(d.a)(Object(d.a)(n))),n.ifRepositories=n.ifRepositories.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"ifRepositories",value:function(e){return this.props.repositories?e:null}},{key:"ifLoggedOut",value:function(e){return this.props.loggedIn?null:e}},{key:"ifLoggedIn",value:function(e){return this.props.loggedIn?e:null}},{key:"render",value:function(){var e=this.props.classes;return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,null),a.a.createElement("div",{className:"App"},a.a.createElement(m.a,null,a.a.createElement(O.a,null,this.ifLoggedIn(a.a.createElement(S.a,{className:e.menuButton,color:"inherit","aria-label":"Menu"},a.a.createElement(x.a,null))),a.a.createElement(E.a,{variant:"title",color:"inherit",className:e.grow},"GitHub Repo Organizer"),this.ifLoggedOut(a.a.createElement(w.a,{onClick:this.props.startLogIn,color:"inherit"},"Login")))),a.a.createElement("main",{className:e.content},a.a.createElement("div",{className:e.appBarSpacer}),this.ifLoggedOut(a.a.createElement(I,null)),this.ifRepositories(a.a.createElement(P,{repositories:this.props.repositories})))))}}]),t}(r.Component),D=Object(y.b)(function(e){return{loggedIn:e.loggedIn,repositories:e.repositories}},function(e){return{startLogIn:function(){return e({type:"START_LOG_IN"})},loadRepositories:function(){return e({type:"START_LOAD_REPOSITORIES"})},loadUser:function(){return e({type:"START_LOAD_USER"})}}})(Object(f.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"}}})(G)),U=n(60),B=n(244),F=n(101),z=n(21),V=n.n(z),H=n(24),q=n(150),J=n.n(q),K=n(242),M=n(243),X=n.n(M),Q=V.a.mark(ce),W=V.a.mark(oe),Y=V.a.mark(se),Z=V.a.mark(ue),$=V.a.mark(le),ee=V.a.mark(pe),te=V.a.mark(de),ne=V.a.mark(fe),re=V.a.mark(ge),ae=new X.a,ie="https://github-auth-backend-hugh.glitch.me/start_auth";function ce(){var e;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=J.a.parse(window.location.search.substring(1))).access_token){t.next=6;break}return t.next=4,Object(H.c)({type:"SET_ACCESS_TOKEN",access_token:e.access_token});case 4:return t.next=6,de();case 6:case"end":return t.stop()}},Q,this)}function oe(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.e)("INIT",ce);case 2:case"end":return e.stop()}},W,this)}function se(){var e,t;return V.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e={redirect_uri:window.location.origin+window.location.pathname,scope:["repo"]},t="".concat(ie,"?").concat(J.a.stringify(e)),n.next=4,window.location=t;case 4:case"end":return n.stop()}},Y,this)}function ue(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.e)("START_LOG_IN",se);case 2:case"end":return e.stop()}},Z,this)}function le(e){var t,n,r,a;return V.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(H.d)(function(e){return e.accessToken});case 2:return t=i.sent,n=new K.GitHub({token:t}),i.next=6,Object(H.b)(function(){return n.query("\n    query {\n      viewer {\n        repositories (first:100".concat(e?', after:"'+e+'"':"",") {\n          pageInfo {\n            endCursor\n          }\n          totalCount,\n          nodes {\n            id,\n            name,\n            description,\n            createdAt,\n            isArchived,\n            repositoryTopics(first:100) {\n              nodes {\n                topic {\n                  id\n                  name\n                }\n              }\n            }\n            stargazers {totalCount},\n            primaryLanguage {\n              name\n            }\n            isPrivate\n            isArchived\n          }\n        }\n      }\n    }"))});case 6:return r=i.sent,a=r.viewer.repositories.nodes.map(function(e){return Object(F.a)({id:e.id,name:e.name,description:e.description,createdAt:e.createdAt,isArchived:e.isArchived,topics:e.repositoryTopics.nodes.map(function(e){return e.topic.name}),stars:e.stargazers.totalCount,language:(t=e.primaryLanguage,t&&t.name),isPrivate:e.isPrivate},"isArchived",e.isArchived);var t}),i.next=10,Object(H.c)({type:"SET_REPOSITORIES",repositories:a});case 10:return i.next=12,Object(H.d)(function(e){return e.repositories.length});case 12:if(!(i.sent<r.viewer.repositories.totalCount)){i.next=16;break}return i.next=16,le(r.viewer.repositories.pageInfo.endCursor);case 16:case"end":return i.stop()}},$,this)}function pe(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.e)("START_LOAD_REPOSITORIES",le);case 2:case"end":return e.stop()}},ee,this)}function de(){var e,t,n;return V.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(H.d)(function(e){return e.accessToken});case 2:return e=r.sent,ae.authenticate({type:"oauth",token:e}),r.next=6,Object(H.b)(function(){return ae.users.get()});case 6:return t=r.sent,n=t.data,r.next=10,Object(H.c)({type:"SET_USER",user:n});case 10:return r.next=12,le();case 12:case"end":return r.stop()}},te,this)}function fe(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.e)("START_LOAD_USER",de);case 2:case"end":return e.stop()}},ne,this)}function ge(){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)([oe(),ue(),pe(),fe()]);case 2:case"end":return e.stop()}},re,this)}var me=n(151),he=n(106),Oe={loggedIn:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCESS_TOKEN":return Object(he.a)({},e,{accessToken:t.access_token,loggedIn:!0});case"SET_REPOSITORIES":return Object(he.a)({},e,{repositories:Object(me.a)(e.repositories||[]).concat(Object(me.a)(t.repositories))});case"SET_USER":return Object(he.a)({},e,{user:t.user});default:return e}},Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.c,ve=Object(B.a)(),we=Object(U.d)(be,Ee(Object(U.a)(ve)));ve.run(ge),we.dispatch({type:"INIT"}),c.a.render(a.a.createElement(y.a,{store:we},a.a.createElement(D,null)),document.getElementById("root"))}},[[245,2,1]]]);
//# sourceMappingURL=main.618d014e.chunk.js.map